# ================================================
# LifeBit 환경 변수 설정 ({{ environment }})
# ================================================

# 데이터베이스 설정 (PostgreSQL)
POSTGRES_DB=lifebit_db
POSTGRES_USER=lifebit_user
POSTGRES_PASSWORD=lifebit_secure_password_{{ environment }}
POSTGRES_PORT=5432

# Redis 설정
REDIS_PASSWORD=lifebit_redis_secure_pass_{{ environment }}
REDIS_PORT=6379

# Spring Boot 설정
SPRING_PROFILES_ACTIVE=docker
JWT_SECRET=your-jwt-secret-key-here-32-characters-minimum-{{ environment }}
JWT_SECRET_KEY={{ jwt_secret_key | default('defaultSecretKey12345678901234567890') }}
JWT_ALGORITHM={{ jwt_algorithm | default('HS256') }}
CORS_ALLOWED_ORIGINS={{ cors_origins | default('http://localhost:3000,http://localhost:5173') }}
LOG_LEVEL={{ log_level | default('info') }}

# AI API 설정
OPENAI_API_KEY={{ openai_api_key | default('your-api-key-here') }}
USE_GPT={{ use_gpt | default('False') }}

# 소셜 로그인 설정
KAKAO_CLIENT_ID={{ kakao_client_id }}
KAKAO_REDIRECT_URI=http://{{ ansible_default_ipv4.address }}:3000/auth/kakao/callback
GOOGLE_CLIENT_ID={{ google_client_id }}
GOOGLE_CLIENT_SECRET={{ google_client_secret }}
GOOGLE_REDIRECT_URI=http://{{ ansible_default_ipv4.address }}:3000/auth/google/callback

# Airflow 설정
AIRFLOW_FERNET_KEY={{ airflow_fernet_key | default('YlCImzjge_TeZc6jPJ7Jz8kOGKr7sUFTmqNJrJlTgzQ=') }}
AIRFLOW_ADMIN_USER=admin
AIRFLOW_ADMIN_PASSWORD=admin123_{{ environment }}

# Grafana 설정
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=grafana_secure_password_{{ environment }}

# 환경 정보
ENVIRONMENT={{ environment }}
PROJECT_NAME={{ project_name }}

# 서버 정보
SERVER_IP={{ ansible_default_ipv4.address }}

# 메모리 제한 (환경별 최적화)
{% if environment == 'prod' %}
POSTGRES_MAX_MEMORY=1024
REDIS_MAX_MEMORY=512
{% else %}
POSTGRES_MAX_MEMORY=512
REDIS_MAX_MEMORY=256
{% endif %} 