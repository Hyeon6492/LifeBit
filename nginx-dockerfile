FROM nginx:alpine

# curl 설치 (healthcheck용)
RUN apk add --no-cache curl

# 기본 nginx 설정 제거
RUN rm /etc/nginx/conf.d/default.conf

# nginx 설정 파일을 직접 복사
COPY nginx.conf /etc/nginx/conf.d/default.conf

# 권한 설정
RUN chmod 644 /etc/nginx/conf.d/default.conf

# nginx 설정 테스트
RUN nginx -t

EXPOSE 80 